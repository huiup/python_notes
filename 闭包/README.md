### 闭包

##### 1.定义

在函数嵌套的前提下，内部函数使用了外部函数的变量﹐并且外部函数返回了内部函数，我们把这个**使用外部函数变量的内部函数**称为闭包。

##### 2.闭包的构成条件

通过闭包的定义，我们可以得知闭包的形成条件:

1. 在函数嵌套(函数里面再定义函数)的前提下
2. 内部函数使用了外部函数的**变量**或**参数**
3. 外部函数返回了内部函数

##### 3.简单闭包的示例：

```python
def func_out():  # 外部函数
    num1 = 10
    def func_inner(num2):  # 内部函数
        # 2.内部函数使用外部函数的变量
        result = num1 + num2
        print('结果：', result)
        # 外部函数要返回内部函数，这个使用了外部函数变量的内部函数称为闭包
        return func_inner
# 获取闭包对象
new_func = func_out() # new_func就是闭包
# 执行闭包
new_func(1)
new_func(10)
```

运行结果：

```python
结果： 11
结果： 20
```

说明：

- 通过上面的输出结果可以看出闭包保存了外部函数内的变量num1，每次执行闭包都是在num1 = 1基础上进行计算。

##### 4.闭包的作用

- 闭包可以保存外部函数内的变量，不会随着外部函数调用完而销毁。

注意点：

- 由于闭包引用了外部函数的变量，则外部函数的变量没有及时释放，消耗内存

